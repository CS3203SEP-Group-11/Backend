spring:
  cloud:
    gateway:
      routes:
        - id: user-service
          uri: lb://USER-SERVICE
          predicates:
            - Path=/api/auth/**, /api/users/**, /api/instructors/**
        - id: course-service
          uri: lb://COURSE-SERVICE
          predicates:
            - Path=/api/courses/**, /api/lessons/**, /api/enrollments/**
        - id: assessment-service
          uri: lb://ASSESSMENT-SERVICE
          predicates:
            - Path=/api/assessments/**
        - id: media-service
          uri: lb://MEDIA-SERVICE
          predicates:
            - Path=/api/files/**
        - id: notification-service
          uri: lb://NOTIFICATION-SERVICE
          predicates:
            - Path=/api/notifications/**
        - id: payment-service
          uri: lb://PAYMENT-SERVICE
          predicates:
            - Path=/api/payments/**, /api/subscriptions/**, /api/subscription-plans/**, /api/webhooks/**

eureka:
  client:
    service-url:
      defaultZone: http://localhost:8761/eureka/
  instance:
    prefer-ip-address: true
    ip-address: 127.0.0.1
    hostname: localhost

# CORS Configuration for Local Development
cors:
  allowed-origins:
    - "http://localhost:3000"
    - "http://localhost:5173"
    - "http://localhost:5174"